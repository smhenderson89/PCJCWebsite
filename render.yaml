services:
  - type: web
    name: pcjc-website
    runtime: node
    buildCommand: pnpm install --frozen-lockfile && pnpm run build
    startCommand: pnpm start
    plan: free
    env:
      - key: NODE_ENV
        value: production
      - key: PNPM_VERSION
        value: "8"
    healthCheckPath: /
    # Ignore unnecessary files during deploy
    ignorePaths:
      - figmaSketch/**
      - scraper/**
      - utilities/**
      - webScraper/**
      - "*.md"
      - db/migrations/**
      - db/adminDB/**
      - website/sass/**
      - website/test/**